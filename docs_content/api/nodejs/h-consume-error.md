---
title: H.consumeError()
slug: 7Ef_-hconsumeerror
createdAt: 2022-10-24T20:57:10.000Z
updatedAt: 2022-10-24T22:53:24.000Z
---

```typescript
consumeError: (
	error: Error,
	secureSessionId: string,
	requestId: string,
) => void
```

## Purpose

`H.consumeError()` reports an error and its corresponding stack trace to Highlight. The `secureSessionId`  and `requestId`  properties are Highlight ids used to link an error to the session in which the error was thrown. These properties are sent via a header and included in every request to your backend once the Highlight client is initialized. They can be parsed using the [H.parseHeaders()](/api/nodejs/h-parse-headers) helper method.

## Example Usage

```typescript
import * as http from 'http';
import { H } from "@highlight-run/node";

const onError = (request: http.IncomingMessage, error: Error): void => {
	const parsed = H.parseHeaders(request.headers);
	if (parsed !== undefined) {
		H.consumeError(error, parsed.secureSessionId, parsed.requestId)
	}
};
```

## Arguments

`error` : Error

*   The error to be reported to Highlight

`secureSessionId` : string

*   A randomized id representing the Highlight session in which an error was thrown. This can be parsed from the network request's headers using [H.parseHeaders()](/api/nodejs/h-parse-headers).

`requestId`

*   A randomized id generated by the Highlight client representing the request for which an error was thrown. This can be parsed from the network request's headers using [H.parseHeaders()](/api/nodejs/h-parse-headers).

